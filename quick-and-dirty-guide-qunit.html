<!DOCTYPE html>
<html lang="en">
<head>
      <title>Quick-and-Dirty Guide to QUnit | Undefined Value</title>
    <meta charset="utf-8" />
    <link href="http://undefinedvalue.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Undefined Value Full Atom Feed" />
    <link href="http://undefinedvalue.com/atom.xml" type="application/atom+xml" rel="alternate" title="Undefined Value Atom Feed" />
    <link href="http://undefinedvalue.com/rss.xml" type="application/rss+xml" rel="alternate" title="Undefined Value RSS Feed" />
    <link href="http://undefinedvalue.com/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Undefined Value Categories Atom Feed" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Oswald%7CLato%7CInconsolata" rel="stylesheet">
    <link rel="stylesheet" href="http://undefinedvalue.com/theme/css/normalize.css" />
    <link rel="stylesheet" href="http://undefinedvalue.com/theme/css/skeleton.css" />
    <link rel="stylesheet" href="http://undefinedvalue.com/theme/css/highlight.css" />
    <link rel="stylesheet" href="http://undefinedvalue.com/theme/css/style.css" />
    <link rel="icon" type="image/png" href="images/favicon.png" />

    <meta name="tags" content="tutorial" />
    <meta name="tags" content="qunit" />
    <meta name="tags" content="jquery" />
    <meta name="tags" content="javascript" />
    <meta name="tags" content="unittesting" />
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-43697246-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>
<body id="index" class="home">

  <div class="container">

    <div class="row">
        <div class="logo">
            <a href="http://undefinedvalue.com/">
                <img src="http://undefinedvalue.com/theme/images/undefinedvalue_logo.png" alt="Logo">
            </a>
        </div><!-- /.logo -->
        <header id="banner" class="body">
            <h1><a href="http://undefinedvalue.com/">Undefined Value</a></h1>
            <strong>Kris Johnson's Blog</strong>
        </header><!-- /#banner -->
    </div><!-- /.row -->

    <div class="row">
        <nav id="menu"><ul>
            <li><a href="/">Front Page</a></li>
            <li><a href="/tags.html">Tags</a></li>
            <li><a href="/archives.html">Archives</a></li>
            <li><a href="http://undefinedvalue.com/pages/about-me.html">About Me</a></li>
            <li><a href="http://undefinedvalue.com/pages/kjresume.html">My Résumé</a></li>
          <li><a href="http://undefinedvalue.com/search.html">Search</a></li>
        </ul></nav><!-- /#menu -->
    </div><!-- /.row -->

    <div class="row">

        <div class="nine columns">


<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="http://undefinedvalue.com/quick-and-dirty-guide-qunit.html" rel="bookmark"
         title="Permalink to Quick-and-Dirty Guide to QUnit">Quick-and-Dirty Guide to QUnit</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2009-12-06T22:07:52-05:00">
      2009-12-06
    </time>
    <ul class="tags">
        <li><a class="tag" href="http://undefinedvalue.com/tag/tutorial.html">tutorial</a></li>
        <li><a class="tag" href="http://undefinedvalue.com/tag/qunit.html">qunit</a></li>
        <li><a class="tag" href="http://undefinedvalue.com/tag/jquery.html">jquery</a></li>
        <li><a class="tag" href="http://undefinedvalue.com/tag/javascript.html">javascript</a></li>
        <li><a class="tag" href="http://undefinedvalue.com/tag/unittesting.html">unittesting</a></li>
    </ul>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I'm playing around with <a href="http://en.wikipedia.org/wiki/Javascript">JavaScript</a> in my spare time, and have started creating a web app. As I usually do, particularly when learning something new, I am using a <a href="http://en.wikipedia.org/wiki/Test-driven_development">test-driven development</a> approach. I looked at a few JavaScript unit-testing frameworks, and decided to go with <a href="http://docs.jquery.com/QUnit">QUnit</a>, the testing framework used by the jQuery project.</p>
<p>QUnit isn't too hard to set up or use, but my unfamiliarity with JavaScript, jQuery, and related things meant it took a little more work than it should have. A few out-of-date QUnit tutorials on the web made things worse. So, here is a quick-and-dirty QUnit tutorial that might be helpful for others who are the same boat that I was in.
<!--break--></p>
<h3>Download Library Files</h3>
<p>First, we need to download jQuery and the two files that make up QUnit. Here are the links:</p>
<ul>
<li><a href="http://jquery.com/">jquery.js</a> (Click the big <strong>Download</strong> button on the right side of that page.)</li>
<li><a href="http://github.com/jquery/qunit/raw/master/qunit/qunit.js">qunit.js</a></li>
<li><a href="http://github.com/jquery/qunit/raw/master/qunit/qunit.css">qunit.css</a></li>
</ul>
<p><strong>Note:</strong> When you download jQuery, you'll end up with a file called <code>jquery-1.3.2.min.js</code>, or something like that. I rename it to <code>jquery.js</code> to keep things simple.</p>
<p>We'll put all three files into the directory where the JavaScript code is going to be. Of course, in real life you can put them wherever you want.</p>
<h3>Production Code to be Tested</h3>
<p>Next, we will need some JavaScript code to test. Some poor confused souls put their JavaScript code and tests in their HTML files, but we're going to do things The Right Way and put the production code and the test code into their own files.</p>
<p>Here is our production module, <code>calculator.js</code>, which provides sophisticated mathematical functionality:</p>
<div class="highlight"><pre><span></span>// calculator.js

var Calculator = function () {
    this.add      = function (a, b) { return a + b; };
    this.subtract = function (a, b) { return a - b; };
    this.multiply = function (a, b) { return a * b; };
    this.divide   = function (a, b) { return a / b; };
};
</pre></div>


<h3>Test Cases</h3>
<p>Here are our tests, in <code>calculator_tests.js</code>:</p>
<div class="highlight"><pre><span></span>// calculator_tests.js

Calculator.runTests = function () {

    test(&quot;add&quot;, function () {
        var c = new Calculator();
        equals(c.add(1, 1), 2, &quot;1 + 1&quot;);
        equals(c.add(2, 2), 4, &quot;2 + 2&quot;);
    });

    test(&quot;subtract&quot;, function () {
        var c = new Calculator();
        equals(c.subtract(1, 1), 0, &quot;1 - 1&quot;);
        equals(c.subtract(100, 1), 99, &quot;100 - 1&quot;);
    });

    test(&quot;multiply&quot;, function () {
        var c = new Calculator();
        equals(c.multiply(1, 1), 1, &quot;1 * 1&quot;);
        equals(c.multiply(2, 2), 4, &quot;2 * 2&quot;);
        equals(c.multiply(17, 23), 391, &quot;17 * 23&quot;);
    });

    test(&quot;divide&quot;, function () {
        var c = new Calculator();
        equals(c.divide(1, 1), 1, &quot;1 / 1&quot;);
        equals(c.divide(8, 2), 4, &quot;8 / 2&quot;);
        equals(c.divide(1, 0), Infinity, &quot;1 / 0&quot;);
    });
};
</pre></div>


<p>Here, I've made my test function a member of the module I'm testing, but you can define it however you want.</p>
<p>See the <a href="http://docs.jquery.com/QUnit#API_documentation">QUnit API documentation</a> for info about the test functions. All you need to know to understand the above is that <code>test(name, function)</code> creates a test case, and <code>equals(actual, expected, message)</code> checks equivalence of results.</p>
<h3>HTML Test Runner</h3>
<p>Finally, we need an HTML file, <code>calculator_tests.html</code>, which loads all the modules, runs the tests, and displays the results in a web browser:</p>
<div class="highlight"><pre><span></span>&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;

&amp;lt;!-- Load jQuery and QUnit --&amp;gt;
&amp;lt;script src=&quot;jquery.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&quot;qunit.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;qunit.css&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&amp;gt;

&amp;lt;!-- Load modules to be tested --&amp;gt;
&amp;lt;script src=&quot;calculator.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&quot;calculator_tests.js&quot;&amp;gt;&amp;lt;/script&amp;gt;

&amp;lt;!-- This jQuery fragment calls Calculator.runTests() after the document loads --&amp;gt;
&amp;lt;script&amp;gt;
$(document).ready(function(){
    Calculator.runTests();    
});
&amp;lt;/script&amp;gt;

&amp;lt;/head&amp;gt;

&amp;lt;body&amp;gt;
&amp;lt;!-- QUnit will put the results in the elements here --&amp;gt;
&amp;lt;h1 id=&quot;qunit-header&quot;&amp;gt;Calculator Tests&amp;lt;/h1&amp;gt;
&amp;lt;h2 id=&quot;qunit-banner&quot;&amp;gt;&amp;lt;/h2&amp;gt;
&amp;lt;h2 id=&quot;qunit-userAgent&quot;&amp;gt;&amp;lt;/h2&amp;gt;
&amp;lt;ol id=&quot;qunit-tests&quot;&amp;gt;&amp;lt;/ol&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
</pre></div>


<p>With all those files in place, just open <code>calculator_tests.html</code> in a web browser, and it will show the results. Successful tests will be green, and failed tests will be red. You can click the individual tests to get detailed lists of the assertions.</p>
<p>So, that's it. Read the QUnit docs, and start writing some tests.</p>
  </div><!-- /.entry-content -->
</section>
<ul>
    <li>Previous article: 
        <a href="http://undefinedvalue.com/stack-overflow-careers.html">
            Stack Overflow Careers
        </a>
    </li>
    <li>Next article:
        <a href="http://undefinedvalue.com/are-web-developers-real-programmers.html">
            Are Web Developers Real Programmers?
        </a>
    </li>
</ul>

        </div><!-- /.nine columns -->

        <div class="three columns">
        <section id="extras" class="body">
            <div class="recent">
                <h2>Recent Posts</h2>
                <ul>
                    <li><a href="http://undefinedvalue.com/blitz.html">Blitz</a></li>
                    <li><a href="http://undefinedvalue.com/tscp-translated-to-rust.html">TSCP Translated to Rust</a></li>
                    <li><a href="http://undefinedvalue.com/52.html">52</a></li>
                    <li><a href="http://undefinedvalue.com/coursera-applied-data-science-with-python-specialization-review.html">Review: Coursera's "Applied Data Science with Python" Specialization</a></li>
                    <li><a href="http://undefinedvalue.com/everything-on-the-internet-is-not-directed-at-you.html">Everything on the Internet Is Not Directed at You</a></li>
                </ul>
            </div><!-- ./recent -->
            <div class="blogroll">
                    <h2>Other Stuff</h2>
                    <ul>
                        <li><a href="http://secretspacelab.com/tcm.html">What's Good on TCM?</a></li>
                        <li><a href="https://github.com/kristopherjohnson">GitHub</a></li>
                        <li><a href="https://bitbucket.org/KristopherJohnson/">Bitbucket</a></li>
                    </ul>
            </div><!-- /.blogroll -->
            <div class="social">
                    <h2>Follow</h2>
                    <ul>
                        <li><a href="http://undefinedvalue.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom Feed</a></li>

                        <li><a href="http://twitter.com/OldManKris">Twitter</a></li>
                        <li><a href="https://mastodon.xyz/web/accounts/159318">Mastodon</a></li>
                        <li><a href="http://stackoverflow.com/users/1175/kristopher-johnson">Stack Overflow</a></li>
                        <li><a href="https://www.flickr.com/photos/kristopherjohnson/">Flickr</a></li>
                        <li><a href="http://www.linkedin.com/in/kristopherdjohnson">LinkedIn</a></li>
                    </ul>
            </div><!-- /.social -->
        </section><!-- /#extras -->

        </div><!-- /.three columns -->
    </div><!-- /.row -->

    <div class="row">
        <footer id="contentinfo" class="body">
            © 2003-2018 Kristopher Johnson
        </footer><!-- /#contentinfo -->
    </div><!-- /.row -->

  </div><!-- /.container -->

</body>
</html>
