<!DOCTYPE html>
<html lang="en">
<head>
      <title>The Easiest Programming Bug I Spent Way Too Much Time Trying to Solve | Undefined Value</title>
    <meta charset="utf-8" />
    <link href="https://undefinedvalue.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Undefined Value Full Atom Feed" />
    <link href="https://undefinedvalue.com/atom.xml" type="application/atom+xml" rel="alternate" title="Undefined Value Atom Feed" />
    <link href="https://undefinedvalue.com/rss.xml" type="application/rss+xml" rel="alternate" title="Undefined Value RSS Feed" />
    <link href="https://undefinedvalue.com/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Undefined Value Categories Atom Feed" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Oswald%7CLato%7CInconsolata" rel="stylesheet">
    <link rel="stylesheet" href="https://undefinedvalue.com/theme/css/normalize.css" />
    <link rel="stylesheet" href="https://undefinedvalue.com/theme/css/skeleton.css" />
    <link rel="stylesheet" href="https://undefinedvalue.com/theme/css/highlight.css" />
    <link rel="stylesheet" href="https://undefinedvalue.com/theme/css/style.css" />
    <link rel="icon" type="image/png" href="images/favicon.png" />

    <meta name="tags" content="puzzle" />
    <meta name="tags" content="programming" />
    <meta name="tags" content="debugging" />
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-43697246-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>
<body id="index" class="home">

  <div class="container">

    <div class="row">
        <div class="logo">
            <a href="https://undefinedvalue.com/">
                <img src="https://undefinedvalue.com/theme/images/undefinedvalue_logo.png" alt="Logo">
            </a>
        </div><!-- /.logo -->
        <header id="banner" class="body">
            <h1><a href="https://undefinedvalue.com/">Undefined Value</a></h1>
            <strong>Kris Johnson's Blog</strong>
        </header><!-- /#banner -->
    </div><!-- /.row -->

    <div class="row">
        <nav id="menu"><ul>
            <li><a href="/">Front Page</a></li>
            <li><a href="/tags.html">Tags</a></li>
            <li><a href="/archives.html">Archives</a></li>
            <li><a href="https://undefinedvalue.com/pages/about-me.html">About Me</a></li>
            <li><a href="https://undefinedvalue.com/pages/kjresume.html">My Résumé</a></li>
          <li><a href="https://undefinedvalue.com/search.html">Search</a></li>
        </ul></nav><!-- /#menu -->
    </div><!-- /.row -->

    <div class="row">

        <div class="nine columns">


<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://undefinedvalue.com/easiest-programming-bug-i-spent-way-too-much-time-trying-solve.html" rel="bookmark"
         title="Permalink to The Easiest Programming Bug I Spent Way Too Much Time Trying to Solve">The Easiest Programming Bug I Spent Way Too Much Time Trying to Solve</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2013-11-12T21:02:46-05:00">
      2013-11-12
    </time>
    <ul class="tags">
        <li><a class="tag" href="https://undefinedvalue.com/tag/puzzle.html">puzzle</a></li>
        <li><a class="tag" href="https://undefinedvalue.com/tag/programming.html">programming</a></li>
        <li><a class="tag" href="https://undefinedvalue.com/tag/debugging.html">debugging</a></li>
    </ul>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I ran across a question on Quora: <a href="http://www.quora.com/Programming-Languages/Whats-the-easiest-programming-bug-you-spent-way-too-much-time-trying-to-solve">What's the easiest programming bug you spent way too much time trying to solve?</a>.</p>
<p>Here is my answer to that question. Some time during my first few years of programming, I wrote code similar to this little snippet and expected it to print "FOO", but instead it prints "None of the above". It is written in C, but should be comprehensible to anyone who knows a language with similar syntax (C++, Java, JavaScript, C#, etc.). It took me about a half day of staring and single-stepping in a debugger to figure out what was wrong. When I looked at the disassembly listing, I was convinced I'd found a bug in the C compiler. Maybe you can figure it out faster than I could.</p>
<div class="highlight"><pre><span></span><code><span class="c1">#include &lt;stdio.h&gt;</span><span class="w"></span>

<span class="nb nb-Type">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">FOO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">BAR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FOO</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">switch</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">FOO</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;FOO&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="n">BAR</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;BAR&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="n">default</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;None of the above&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
  </div><!-- /.entry-content -->
</section>
<ul>
    <li>Previous article: 
        <a href="https://undefinedvalue.com/my-htc-one-review.html">
            My HTC One Review
        </a>
    </li>
    <li>Next article:
        <a href="https://undefinedvalue.com/setting-windows-my-way.html">
            Setting Up Windows, My Way
        </a>
    </li>
</ul>

        </div><!-- /.nine columns -->

        <div class="three columns">
        <section id="extras" class="body">
            <div class="recent">
                <h2>Recent Posts</h2>
                <ul>
                    <li><a href="https://undefinedvalue.com/simpler-résumé-updates.html">Simpler Résumé Updates</a></li>
                    <li><a href="https://undefinedvalue.com/54.html">54</a></li>
                    <li><a href="https://undefinedvalue.com/53.html">53</a></li>
                    <li><a href="https://undefinedvalue.com/menubar-countdown-21.html">Menubar Countdown 2.1</a></li>
                    <li><a href="https://undefinedvalue.com/lunar-for-c-and-rust.html">LUNAR for C and Rust</a></li>
                </ul>
            </div><!-- ./recent -->
            <div class="blogroll">
                    <h2>Other Stuff</h2>
                    <ul>
                        <li><a href="http://secretspacelab.com/tcm.html">What's Good on TCM?</a></li>
                        <li><a href="https://github.com/kristopherjohnson">GitHub</a></li>
                        <li><a href="https://bitbucket.org/KristopherJohnson/">Bitbucket</a></li>
                    </ul>
            </div><!-- /.blogroll -->
            <div class="social">
                    <h2>Follow</h2>
                    <ul>
                        <li><a href="https://undefinedvalue.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom Feed</a></li>

                        <li><a rel="me" href="https://mastodon.xyz/@oldmankris">Mastodon</a></li>
                        <li><a rel="me" href="http://stackoverflow.com/users/1175/kristopher-johnson">Stack Overflow</a></li>
                        <li><a rel="me" href="http://www.linkedin.com/in/kristopherdjohnson">LinkedIn</a></li>
                        <li><a rel="me" href="https://www.flickr.com/photos/kristopherjohnson/">Flickr</a></li>
                        <li><a rel="me" href="http://twitter.com/OldManKris">Twitter</a></li>
                    </ul>
            </div><!-- /.social -->
        </section><!-- /#extras -->

        </div><!-- /.three columns -->
    </div><!-- /.row -->

    <div class="row">
        <footer id="contentinfo" class="body">
            © 2003-2023 Kristopher Johnson
        </footer><!-- /#contentinfo -->
    </div><!-- /.row -->

  </div><!-- /.container -->

</body>
</html>
