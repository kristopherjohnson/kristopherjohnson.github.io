<!DOCTYPE html>
<html lang="en">
<head>
      <title>The Easiest Programming Bug I Spent Way Too Much Time Trying to Solve | Undefined Value</title>
    <meta charset="utf-8" />
    <link href="http://undefinedvalue.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Undefined Value Full Atom Feed" />
    <link href="http://undefinedvalue.com/feeds/blog.atom.xml" type="application/atom+xml" rel="alternate" title="Undefined Value Categories Atom Feed" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Oswald%7CLato%7CInconsolata" rel="stylesheet">
    <link rel="stylesheet" href="http://undefinedvalue.com/theme/css/normalize.css" />
    <link rel="stylesheet" href="http://undefinedvalue.com/theme/css/skeleton.css" />
    <link rel="stylesheet" href="http://undefinedvalue.com/theme/css/style.css" />
    <link rel="icon" type="image/png" href="images/favicon.png" />


    <meta name="tags" content="puzzle" />
    <meta name="tags" content="programming" />
    <meta name="tags" content="debugging" />

</head>
<body id="index" class="home">
  <div class="container">

    <div class="row">
        <div class="logo">
            <a href="http://undefinedvalue.com/">
                <img src="http://undefinedvalue.com/theme/images/undefinedvalue_logo.png" alt="Logo">
            </a>
        </div>
        <header id="banner" class="body">
            <h1><a href="http://undefinedvalue.com/">Undefined Value</a></h1>
            <strong>Kris Johnson's Blog</strong>
        </header><!-- /#banner -->
    </div>

    <div class="row">
        <nav id="menu"><ul>
            <li><a href="/">Front Page</a></li>
            <li><a href="/tags.html">Tags</a></li>
            <li><a href="/archives.html">Archives</a></li>
            <li><a href="http://undefinedvalue.com/pages/about-me.html">About Me</a></li>
            <li><a href="http://undefinedvalue.com/pages/kjresume.html">My Résumé</a></li>
        </ul></nav><!-- /#menu -->
    </div><!-- /.row -->

    <div class="row">

        <div class="nine columns">
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="http://undefinedvalue.com/easiest-programming-bug-i-spent-way-too-much-time-trying-solve.html" rel="bookmark"
         title="Permalink to The Easiest Programming Bug I Spent Way Too Much Time Trying to Solve">The Easiest Programming Bug I Spent Way Too Much Time Trying to Solve</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2013-11-12T21:02:46-05:00">
      Tue 12 November 2013
    </time>
    <ul class="tags">
        <li><a class="tag" href="http://undefinedvalue.com/tag/puzzle.html">puzzle</a></li>
        <li><a class="tag" href="http://undefinedvalue.com/tag/programming.html">programming</a></li>
        <li><a class="tag" href="http://undefinedvalue.com/tag/debugging.html">debugging</a></li>
    </ul>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I ran across a question on Quora: <a href="http://www.quora.com/Programming-Languages/Whats-the-easiest-programming-bug-you-spent-way-too-much-time-trying-to-solve">What's the easiest programming bug you spent way too much time trying to solve?</a>.</p>
<p>Here is my answer to that question. Some time during my first few years of programming, I wrote code similar to this little snippet and expected it to print "FOO", but instead it prints "None of the above". It is written in C, but should be comprehensible to anyone who knows a language with similar syntax (C++, Java, JavaScript, C#, etc.). It took me about a half day of staring and single-stepping in a debugger to figure out what was wrong. When I looked at the disassembly listing, I was convinced I'd found a bug in the C compiler. Maybe you can figure it out faster than I could.</p>
<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">FOO</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">BAR</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">FOO</span><span class="p">;</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nl">FOO</span><span class="p">:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;FOO&quot;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="nl">BAR</span><span class="p">:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;BAR&quot;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">default</span><span class="o">:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;None of the above&quot;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
  </div><!-- /.entry-content -->
</section>
<ul>
    <li>Previous article: 
        <a href="http://undefinedvalue.com/my-htc-one-review.html">
            My HTC One Review
        </a>
    </li>
    <li>Next article:
        <a href="http://undefinedvalue.com/setting-windows-my-way.html">
            Setting Up Windows, My Way
        </a>
    </li>
</ul>
        </div><!-- /.nine columns -->

        <div class="three columns">
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>Other Stuff</h2>
                        <ul>
                            <li><a href="http://secretspacelab.com/tcm.html">What's Good on TCM?</a></li>
                            <li><a href="https://github.com/kristopherjohnson">GitHub</a></li>
                            <li><a href="https://bitbucket.org/KristopherJohnson/">Bitbucket</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>Follow</h2>
                        <ul>
                            <li><a href="http://undefinedvalue.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom Feed</a></li>

                            <li><a href="http://twitter.com/OldManKris">Twitter</a></li>
                            <li><a href="http://stackoverflow.com/users/1175/kristopher-johnson">Stack Overflow</a></li>
                            <li><a href="https://pinboard.in/u:OldManKris">Pinboard</a></li>
                            <li><a href="https://www.flickr.com/photos/kristopherjohnson/">Flickr</a></li>
                            <li><a href="http://www.linkedin.com/in/kristopherdjohnson">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->
        </div><!-- /.three columns -->
    </div><!-- /.row -->

    <div class="row">
        <footer id="contentinfo" class="body">
            © 2003-2017 Kristopher Johnson
        </footer><!-- /#contentinfo -->
    </div><!-- /.row -->

  </div><!-- /.container -->
</body>
</html>
